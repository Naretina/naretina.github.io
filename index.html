<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<script src="https://d3js.org/d3.v7.min.js"></script>
	<style>
	.scatter {
		width: 500px;
		height: 500px;
	}
	</style>
	<title>Scatterplots</title>
</head>
<body>
	<div id="scatterplot_1" class="scatter">
		<script>
			async function App() {
				// load the data
				const data = await d3.json("GlobalTemperatures.json")
				console.log(data);

				// set up the svg
					const margin = {
							top: 10,
							right: 30,
							bottom: 30,
							left: 60
						},
						width = 460 - margin.left - margin.right,
						height = 400 - margin.left - margin.bottom;
					const svg = d3
						.select("#scatterplot_1")
						.append("svg")
						.attr("width", width + margin.left + margin.left)
						.attr("height", height + margin.top + margin.bottom);
	
					// Add X axis
					const x = d3
						.scaleTime()
						.domain([new Date(1850, 0, 1), new Date(2015, 11, 1)])
						.range([60, width + 60]);
					const xAxis = svg
						.append("g")
						.attr("transform", "translate(0," + height + ")")
						.call(d3.axisBottom(x));
					// Add Y axis
					const y = d3
						.scaleLinear()
						.domain([-5, 20])
						.range([height, 5]);
					const yAxis = svg
						.append("g")
						.attr("transform", "translate(60, 0)")
						.call(d3.axisLeft(y));
				
					// Add points
					var points = svg
						.append('g')
						.selectAll('dot')
						.data(gt)
						.join('circle')
						.attr('cx', function(d, i) {
							return x(+d.LAT);
						})
						.attr('cy', function(d, i) {
							const parseTime = d3.utcParse("%Y%m");
							return y(parseTime(d.time));
						})
						.attr('r', 4)
					}
				App();
		</script>
	</div>
	<div id="scatterplot_2" class="scatter">
		<script>
		</script>
	</div>
</body>
</html>